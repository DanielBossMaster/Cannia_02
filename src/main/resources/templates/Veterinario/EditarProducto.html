<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
    <meta charset="UTF-8">
    <title>Editar Propietario</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
    <!-- Bootstrap CSS -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: "#170022",
                        secondary: "#170022",
                        lightBg: "#e8ebff",
                        lightSurface: "#f7f8f9",
                        darkText: "#1e293b",
                        softText: "#475569",
                        borderLight: "#e2e8f0",
                    },
                },
            },
        };
    </script>

    <style>
        body {
            font-family: 'Poppins', sans-serif;
        }

        .tab-active {
            border-bottom: 3px solid #170022;
        }

        .tab-btn {
            transition: all 0.2s ease-in-out;
        }
    </style>
</head>
<body class="bg-lightBg text-darkText min-h-screen flex flex-col">
<header class="bg-secondary text-white flex justify-between items-center px-6 py-3 shadow-md">
    <div class="flex items-center space-x-3">
        <img src="/img/logo.png" alt="Logo" class="w-8 h-8">
        <h1 class="text-lg font-bold">Cannia</h1>
    </div>
    <a th:href="@{/veterinario}">
        <button class="text-sm hover:font-bold">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 class="lucide lucide-house-icon lucide-house"><path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"/>
                <path d="M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
            </svg></button></a>
</header>
<main class="flex-1 flex items-center justify-center py-10">
    <div class="bg-lightSurface w-full max-w-md  shadow-lg p-6 relative">
    <!-- Formulario -->
        <form  th:action="@{/veterinario/productos/guardar}"
               method="post"
               th:object="${producto}"
               enctype="multipart/form-data"
               class="space-y-4">



        <input type="hidden" th:field="*{id}" />

        <div>
            <label class="block text-sm font-semibold text-softText">Nombre</label>
            <input type="text" th:field="*{nombre}" class="w-full border border-borderLight  px-3 py-2 " >
        </div>
        <div>
            <label class="block text-sm font-semibold text-softText">Descripcion</label>
            <input type="text" th:field="*{descripcion}" class="w-full border border-borderLight  px-3 py-2 ">
        </div>
        <div>
            <label class="block text-sm font-semibold text-softText">Precio</label>
            <input type="text" th:field="*{valor}" class="w-full border border-borderLight  px-3 py-2 ">
        </div>
       <!-- ✅ VER IMAGEN ACTUAL -->
        <div>
            <label>Imagen actual</label>
            <img th:src="@{/veterinario/producto/foto/{id}(id=${producto.id})}"
                 class="w-32 h-32 object-cover  border"/>
        </div>

        <!-- ✅ CAMBIAR IMAGEN -->
        <div>
            <label>Nueva imagen (opcional)</label>
            <input type="file" name="imagen" accept="image/*"
                   class="w-full border p-2"/>
        </div>

        <div>
            <label class="block text-sm font-semibold text-softText mb-2">Categorías</label>
            <div class="border border-borderLight p-3 bg-white space-y-2">

                <div th:each="cat : ${todasCategorias}" class="flex items-center space-x-2">

                    <input type="checkbox"
                           th:field="*{categorias}"
                           th:value="${cat.id}"
                           class="form-checkbox text-primary"/>

                    <label th:text="${cat.nombre}" class="text-sm text-darkText"></label>
                </div>

            </div>
        </div>

        <div class="flex justify-end space-x-3 pt-4">
            <a th:href="@{/veterinario/GestionVentas}" class="bg-secondary text-white px-4 py-2  hover:bg-lightSurface hover:shadow-xl hover:text-primary font-bold transition">Cancelar</a>
            <button onclick="alert('Cambios guardados con éxito')" type="submit" class="bg-secondary text-white px-4 py-2  hover:bg-lightSurface hover:shadow-xl hover:text-primary font-bold transition">Guardar cambios</button>
        </div>
    </form>
</div>

</main>
</body>
</html>
