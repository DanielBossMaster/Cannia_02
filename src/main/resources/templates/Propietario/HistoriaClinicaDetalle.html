<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Historia Clínica - Mascotas</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100">

<header class="bg-secondary text-white flex justify-between items-center px-6 py-3 shadow-md">
    <div class="flex items-center space-x-3">
        <img src="/img/logo.png" alt="Logo" class="w-10 h-10">
        <h1 class="text-lg font-bold">Cannia</h1>
    </div>

    <a th:href="@{/propietario/index}"
       class="bg-green-600 hover:bg-secondary px-4 py-2 rounded-lg shadow text-white transition">
         Volver
    </a>
</header>

<!-- HISTORIA CLÍNICA (CONTENIDO PARA MODAL) -->

<div class="space-y-4">

    <h4 class="text-xl font-semibold mb-2">
        Registros clínicos
    </h4>

    <table class="min-w-full border border-gray-200 rounded-lg overflow-hidden">

        <thead class="bg-gray-100">
        <tr>
            <th class="py-2 px-3 text-left">Fecha</th>
            <th class="py-2 px-3 text-left">Diagnóstico</th>
            <th class="py-2 px-3 text-left">Tratamiento</th>
            <th class="py-2 px-3 text-left">Peso</th>
        </tr>
        </thead>

        <tbody>
        <tr th:each="h : ${historias}" class="border-t">

            <td class="py-2 px-3"
                th:text="${#temporals.format(h.fechaHora, 'dd/MM/yyyy HH:mm')}">
            </td>

            <td class="py-2 px-3" th:text="${h.diagnostico}"></td>

            <td class="py-2 px-3" th:text="${h.tratamiento}"></td>

            <td class="py-2 px-3" th:text="${h.peso}"></td>

        </tr>

        <!-- SIN REGISTROS -->
        <tr th:if="${historias.isEmpty()}">
            <td colspan="4" class="py-4 text-center text-gray-500">
                Esta mascota no tiene historia clínica registrada.
            </td>
        </tr>
        </tbody>

    </table>

</div>
